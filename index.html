<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ BK</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>

<!-- ===== –í–•–û–î ===== -->
<div id="loginOverlay" class="login-overlay">
  <div class="login-box">
    <h2>–í—Ö–æ–¥</h2>
    <input id="loginPassword" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />
    <button id="loginBtn" class="btn primary">–í–æ–π—Ç–∏</button>
  </div>
</div>

<header class="header">
  <h1>üçî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ BK</h1>
</header>

<main class="container">

  <!-- ===== –ü–ê–†–ê–ú–ï–¢–†–´ –ó–ê–ö–ê–ó–ê ===== -->
  <section class="card">
    <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–∫–∞–∑–∞</h2>

    <div class="settings">
      <label>
        –î–∞—Ç–∞ —Å–µ–≥–æ–¥–Ω—è
        <input type="date" id="today" />
      </label>

      <label>
        –î–∞—Ç–∞ –ø—Ä–∏—Ö–æ–¥–∞
        <input type="date" id="deliveryDate" />
      </label>

      <label>
        –ü–µ—Ä–∏–æ–¥ —Ä–∞—Å—Ö–æ–¥–∞ (–¥–Ω–µ–π)
        <input type="number" id="periodDays" value="30" />
      </label>

      <label>
        –ó–∞–ø–∞—Å (–¥–Ω–∏)
        <input type="number" id="safetyDays" />
      </label>

      <label>
        –ó–∞–ø–∞—Å (%)
        <input type="number" id="safetyPercent" value="0" />
      </label>

      <label>
        –ï–¥–∏–Ω–∏—Ü—ã
        <select id="unit">
          <option value="pieces">–®—Ç—É–∫–∏</option>
          <option value="boxes">–ö–æ—Ä–æ–±–∫–∏</option>
        </select>
      </label>
    </div>

    <!-- –ö–õ–Æ–ß–ï–í–ê–Ø –ö–ù–û–ü–ö–ê -->
    <button id="buildOrder" class="btn primary">
      üì¶ –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑
    </button>
  </section>

  <!-- ===== –ó–ê–ö–ê–ó (–°–ö–†–´–¢ –î–û –ö–ù–û–ü–ö–ò) ===== -->
  <div id="orderSection" class="hidden">

    <!-- –î–û–ë–ê–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–û–í -->
    <section class="card">
      <h2>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤</h2>

      <div class="actions">
        <button id="addItem" class="btn secondary">‚ûï –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞</button>
        <button id="addManual" class="btn primary">‚úçÔ∏è –†—É—á–Ω–æ–π —Ç–æ–≤–∞—Ä</button>
        <button id="bulkImport" class="btn secondary">üìã –í—Å—Ç–∞–≤–∏—Ç—å –∏–∑ Excel</button>
        <button id="copyOrder" class="btn secondary">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑</button>
        <button id="saveOrder" class="btn primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–∞–∑</button>
        <button id="openHistory" class="btn secondary">
  üìö –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
</button>

      </div>

      <label>
        –ü–æ—Å—Ç–∞–≤—â–∏–∫
        <select id="supplierFilter">
          <option value="">–í—Å–µ / —Å–≤–æ–±–æ–¥–Ω—ã–π</option>
        </select>
      </label>

      <section class="search">
        <input
          id="productSearch"
          placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é"
        />
        <div id="searchResults" class="search-results"></div>
      </section>
    </section>

    <!-- –¢–ê–ë–õ–ò–¶–ê –ó–ê–ö–ê–ó–ê -->
    <section class="card">
      <h2>–ó–∞–∫–∞–∑</h2>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>–¢–æ–≤–∞—Ä</th>
              <th>–†–∞—Å—Ö–æ–¥</th>
              <th>–û—Å—Ç–∞—Ç–æ–∫</th>
              <th>–†–∞—Å—á—ë—Ç</th>
              <th>–ó–∞–∫–∞–∑ –∏—Ç–æ–≥–æ</th>
              <th>–•–≤–∞—Ç–∏—Ç –¥–æ</th>
              <th>–ü–∞–ª–ª–µ—Ç—ã</th>
              <th>–°—Ç–∞—Ç—É—Å</th>
              <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
          </thead>
          <tbody id="items"></tbody>
        </table>
      </div>
    </section>

    <!-- –ò–¢–û–ì -->
    <section class="card">
      <h2>–ò—Ç–æ–≥ –∑–∞–∫–∞–∑–∞</h2>
      <div id="finalSummary"></div>
    </section>

  </div>


</main>

<!-- ===== –ú–û–î–ê–õ–ö–ê: –ò–°–¢–û–†–ò–Ø –ó–ê–ö–ê–ó–û–í ===== -->
<div id="historyModal" class="modal hidden">
  <div class="modal-box large">
    <div class="modal-header">
      <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
      <button id="closeHistory" class="modal-close">‚úñ</button>
    </div>

    <label>
      –ü–æ—Å—Ç–∞–≤—â–∏–∫
      <select id="historySupplier">
        <option value="">–í—Å–µ</option>
      </select>
    </label>

    <div id="orderHistory"></div>
  </div>
</div>


<!-- ===== –ú–û–î–ê–õ–ö–ê: –†–£–ß–ù–û–ô –¢–û–í–ê–† ===== -->
<div id="manualModal" class="modal hidden">
  <div class="modal-box">
    <div class="modal-header">
      <h2>–†—É—á–Ω–æ–π —Ç–æ–≤–∞—Ä</h2>
      <button id="closeManual" class="modal-close">‚úñ</button>
    </div>

    <input id="m_name" placeholder="–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ*" />
    <input id="m_sku" placeholder="–ê—Ä—Ç–∏–∫—É–ª" />
    <input id="m_supplier" placeholder="–ü–æ—Å—Ç–∞–≤—â–∏–∫" />
    <input id="m_box" type="number" placeholder="–®—Ç—É–∫ –≤ –∫–æ—Ä–æ–±–∫–µ" value="1" />
    <input id="m_pallet" type="number" placeholder="–ö–æ—Ä–æ–±–æ–≤ –Ω–∞ –ø–∞–ª–ª–µ—Ç–µ" />

    <label>
      <input type="checkbox" id="m_save" />
      –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É
    </label>

    <div class="actions">
      <button id="m_add" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
      <button id="m_cancel" class="btn secondary">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>


<!-- ===== –ú–û–î–ê–õ–ö–ê: BULK –ò–ú–ü–û–†–¢ ===== -->
<div id="bulkModal" class="modal hidden">
  <div class="modal-box large">
    <div class="modal-header">
      <h2>–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑ Excel</h2>
      <button id="closeBulk" class="modal-close">‚úñ</button>
    </div>

    <p style="color:#8a8a8a;font-size:14px;margin-bottom:16px;">
      –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Excel –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞. –§–æ—Ä–º–∞—Ç: <b>–ù–∞–∑–≤–∞–Ω–∏–µ | –†–∞—Å—Ö–æ–¥ | –û—Å—Ç–∞—Ç–æ–∫ | –ê—Ä—Ç–∏–∫—É–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</b>
    </p>

    <textarea id="bulkData" 
      placeholder="–ü—Ä–∏–º–µ—Ä:
–ë–∏–≥ –ö–∏–Ω–≥	500	200	BK001
–í–æ–ø–ø–µ—Ä –î–∂—É–Ω–∏–æ—Ä	300	150
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏	1000	500	BK003"
      style="width:100%;height:200px;padding:12px;border-radius:10px;border:2px solid #e2e2e2;font-family:monospace;font-size:13px;resize:vertical;"
    ></textarea>

    <div class="actions" style="margin-top:20px;">
      <button id="bulkImportBtn" class="btn primary">üì• –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
      <button id="bulkCancel" class="btn secondary">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>


<script type="module" src="./ui.js"></script>

</body>
</html>